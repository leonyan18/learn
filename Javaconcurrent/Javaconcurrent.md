# java高并发

### 线程安全性

#### 原子性

竞态条件：当某个计算的正确性取决于多个线程的交替执行时序时，那么就会发生竞态条件。

如if else里的计算和 i++的复合操作

#### 内置锁

同步代码块 以synchronized修饰代码块或者方法

内置锁是可重入的，指同一线程可以再次获取已被他获取的锁，计数值会再加一，退出同步代码块时会相应的递减，直到计数值为0时，代表这个锁以被释放

当执行时间较长的计算或者可能无法快速完成的操作时（网络I/O，控制I/O），一定不要持有锁